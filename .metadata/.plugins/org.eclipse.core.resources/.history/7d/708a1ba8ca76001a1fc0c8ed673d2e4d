/*
 * ejrc2_12_planilla.c
 * Se tiene una planilla de alumnos con los resultados de un examen
 * con la siguiente informacion:
 * 	1-matricula (valor numerico de 8 digitos)
 * 	2-nota (valor numerico comprendido entre 1 y 10)
 * 	3-nombre (10 caracteres)
 * Se pide informar:
 * 	1-Cant de alumnos que rindieron
 * 	2-Nota promedio
 * 	3-Mejor alumno con mejor nota
 * Para indicar FIN de ingreso de alumno el operador ingresa nombre vacio, nota en cero y  matricula en 0
 * Created on: 4 abr. 2020
 * Author: mdangelo
 */

#include <stdio.h>
#include <stdlib.h>
#include <stdio_ext.h>

#include "ejrc2_12_planilla.h"

void initContAcum (int *pCont, int * pAcum);
void pedirAlumnos (int *pMat, int *pNota, char *pNom);
int alumnoValido(int iNota, int iMat);
void guardarMejorAlumno(int *pMejorNota, char *pMejorNom, int iNota, char *pNom);

void procesarALumnos(){
	double unsigned matricula;
	int nota;
	char nombre[11];

	int iContAlm;
	int iNotasAcm;
	//datos mejor alumnos (con mejor nota, se supone unico)
	int mejorNota;
	char mejorNombre[11];
	float fProm=0.0;

	initContAcum(&iContAlm, &iNotasAcm);
	pedirAlumnos(&matricula,&nota, nombre);

	while(alumnoValido(matricula,nota)){
		guardarMejorAlumno(&mejorNota,mejorNombre, nota, nombre);
		iContAlm++;
		iNotasAcm += nota;
		pedirAlumnos(&matricula,&nota, nombre);
	};

	if(alumnoValido(matricula,nota)){
		mostrarMejorAlumno(mejorNota,mejorNombre);
		calcMostrarPromedio(iNotasAcm, iContAlm);
		mostrarCantAlumnos(iContAlm);
	}

}

void initContAcum (int *pCont, int *pAcum) {
	*pCont = 0;
	*pAcum = 0;
}

void pedirAlumnos (int *pMat, int *pNota, char *pNom) {
	printf("Ingrese nombre del alumno: ");
	scanf("%s", pNom);
	printf("Ingrese nota del alumno: ");
	scanf("%d",pNota);
	printf("Ingrese matricula del alumno: ");
	scanf("%d",pMat);
	__fpurge(stdin);
}

int alumnoValido(int iNota, int iMat) {
	int rslt = (iNota!=0 && iMat!=0);
	return rslt;
}

void guardarMejorAlumno(int *pMejorNota, char *pMejorNom, int iNota, char *pNom) {

}
